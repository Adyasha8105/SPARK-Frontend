var e,t,n=Object.defineProperty,r=Object.defineProperties,i=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&u(e,n,t[n]);if(a)for(var n of a(t))s.call(t,n)&&u(e,n,t[n]);return e},d=(e,t)=>r(e,i(t)),l=(e,t)=>{var n={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&a)for(var r of a(e))t.indexOf(r)<0&&s.call(e,r)&&(n[r]=e[r]);return n};(t=e||(e={})).uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected";import{isPlainObject as p}from"@reduxjs/toolkit";var f=p;function m(e,t){if(e===t||!(f(e)&&f(t)||Array.isArray(e)&&Array.isArray(t)))return t;const n=Object.keys(t),r=Object.keys(e);let i=n.length===r.length;const a=Array.isArray(t)?[]:{};for(const r of n)a[r]=m(e[r],t[r]),i&&(i=e[r]===a[r]);return i?e:a}import{isPlainObject as y}from"@reduxjs/toolkit";var h=(...e)=>fetch(...e),g=e=>e.status>=200&&e.status<=299;function v(e){if(!y(e))return e;const t=c({},e);for(const[e,n]of Object.entries(t))void 0===n&&delete t[e];return t}function b(e={}){var t=e,{baseUrl:n,prepareHeaders:r=(e=>e),fetchFn:i=h}=t,a=l(t,["baseUrl","prepareHeaders","fetchFn"]);return"undefined"==typeof fetch&&i===h&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(e,{signal:t,getState:o})=>{let s,u="string"==typeof e?{url:e}:e,{url:p,method:f="GET",headers:m=new Headers({}),body:h,params:b,responseHandler:q="json",validateStatus:O=g}=u,w=l(u,["url","method","headers","body","params","responseHandler","validateStatus"]),j=c(d(c({},a),{method:f,signal:t,body:h}),w);var S;if(j.headers=await r(new Headers(v(m)),{getState:o}),j.headers.has("content-type")||"object"!=typeof(S=h)||!y(S)&&!Array.isArray(S)&&"function"!=typeof S.toJSON||j.headers.set("content-type","application/json"),h&&(e=>{var t,n;return null==(n=null==(t=e.get("content-type"))?void 0:t.trim())?void 0:n.startsWith("application/json")})(j.headers)&&(j.body=JSON.stringify(h)),b){const e=~p.indexOf("?")?"&":"?";p+=e+new URLSearchParams(v(b))}p=function(e,t){return e?t?function(e){return new RegExp("(^|:)//").test(e)}(t)?t:`${e=(e=>e.replace(/\/$/,""))(e)}/${t=(e=>e.replace(/^\//,""))(t)}`:e:t}(n,p);const T=new Request(p,j);let R;s={request:T.clone()};try{R=await i(T)}catch(e){return{error:{status:"FETCH_ERROR",error:String(e)},meta:s}}const A=R.clone();let k;s.response=A;try{k=await(async(e,t)=>{if("function"==typeof t)return t(e);if("text"===t)return e.text();if("json"===t){const t=await e.text();return t.length?JSON.parse(t):void 0}})(R,q)}catch(e){return{error:{status:"PARSING_ERROR",originalStatus:R.status,data:await A.clone().text(),error:String(e)},meta:s}}return O(R,k)?{data:k,meta:s}:{error:{status:R.status,data:k},meta:s}}}var q=class{constructor(e,t){this.value=e,this.meta=t}};async function O(e=0,t=5){const n=Math.min(e,t),r=~~((Math.random()+.4)*(300<<n));await new Promise((e=>setTimeout((t=>e(t)),r)))}var w=Object.assign(((e,t)=>async(n,r,i)=>{const a=c(c({maxRetries:5,backoff:O},t),i);let o=0;for(;;)try{const t=await e(n,r,i);if(t.error)throw new q(t);return t}catch(e){if(o++,e.throwImmediately||o>a.maxRetries){if(e instanceof q)return e.value;throw e}await a.backoff(o,a.maxRetries)}}),{fail:function(e){throw Object.assign(new q({error:e}),{throwImmediately:!0})}});import{createAction as j}from"@reduxjs/toolkit";var S=j("__rtkq/focused"),T=j("__rtkq/unfocused"),R=j("__rtkq/online"),A=j("__rtkq/offline"),k=!1;function x(e,t){return t?t(e,{onFocus:S,onFocusLost:T,onOffline:A,onOnline:R}):function(){const t=()=>e(S()),n=()=>e(R()),r=()=>e(A()),i=()=>{"visible"===window.document.visibilityState?t():e(T())};return k||"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("visibilitychange",i,!1),window.addEventListener("focus",t,!1),window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),k=!0),()=>{window.removeEventListener("focus",t),window.removeEventListener("visibilitychange",i),window.removeEventListener("online",n),window.removeEventListener("offline",r),k=!1}}()}import{createNextState as Q,createSelector as C}from"@reduxjs/toolkit";var I=Symbol.for("RTKQ/skipToken"),P=I,D={status:e.uninitialized},E=Q(D,(()=>{})),N=Q(D,(()=>{}));import{isPlainObject as F}from"@reduxjs/toolkit";var K,M,z=({endpointName:e,queryArgs:t})=>`${e}(${JSON.stringify(t,((e,t)=>F(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))})`;function L(e,t,n,r,i){return"function"==typeof e?e(t,n,r).map(_).map(i):Array.isArray(e)?e.map(_).map(i):[]}function _(e){return"string"==typeof e?{type:e}:e}(M=K||(K={})).query="query",M.mutation="mutation";import{nanoid as $}from"@reduxjs/toolkit";function U(...e){return function(t){const n=d(c({reducerPath:"api",serializeQueryArgs:z,keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},t),{tagTypes:[...t.tagTypes||[]]}),r={endpointDefinitions:{},batch(e){e()},apiUid:$()},i={injectEndpoints:function(e){const t=e.endpoints({query:e=>d(c({},e),{type:K.query}),mutation:e=>d(c({},e),{type:K.mutation})});for(const[n,i]of Object.entries(t))if(e.overrideExisting||!(n in r.endpointDefinitions)){r.endpointDefinitions[n]=i;for(const e of a)e.injectEndpoint(n,i)}return i},enhanceEndpoints({addTagTypes:e,endpoints:t}){if(e)for(const t of e)n.tagTypes.includes(t)||n.tagTypes.push(t);if(t)for(const[e,n]of Object.entries(t))"function"==typeof n&&n(r.endpointDefinitions[e]),Object.assign(r.endpointDefinitions[e]||{},n);return i}},a=e.map((e=>e.init(i,n,r)));return i.injectEndpoints({endpoints:t.endpoints})}}function W(){return function(){throw new Error("When using `fakeBaseQuery`, all queries & mutations must use the `queryFn` definition syntax.")}}import{isAllOf as H,isFulfilled as V,isPending as J,isRejected as B,isRejectedWithValue as G}from"@reduxjs/toolkit";import{isDraftable as Y,produceWithPatches as X}from"immer";import{createAsyncThunk as Z}from"@reduxjs/toolkit";function ee(e){return e}function te(e,t,n,r){return L(n[e.meta.arg.endpointName][t],V(e)?e.payload:void 0,G(e)?e.payload:void 0,e.meta.arg.originalArgs,r)}import{combineReducers as ne,createAction as re,createSlice as ie,isAnyOf as ae,isFulfilled as oe,isRejectedWithValue as se}from"@reduxjs/toolkit";import{applyPatches as ue}from"immer";function ce(e,t,n){const r=e[t];r&&n(r)}function de(e,{requestId:t},n){const r=e[t];r&&n(r)}var le={};import{compose as pe}from"redux";import{createAction as fe}from"@reduxjs/toolkit";var me=({reducerPath:e,api:t,context:n})=>{const{removeQueryResult:r,unsubscribeQueryResult:i}=t.internalActions;return a=>{const o={};return s=>u=>{var c,d;const l=s(u);if(i.match(u)){const t=a.getState()[e],{queryCacheKey:i}=u.payload,s=n.endpointDefinitions[null==(c=t.queries[i])?void 0:c.endpointName];!function(t,n,i){const a=o[t];a&&clearTimeout(a),o[t]=setTimeout((()=>{const i=n.getState()[e].subscriptions[t];i&&0!==Object.keys(i).length||n.dispatch(r({queryCacheKey:t})),delete o[t]}),1e3*i)}(i,a,null!=(d=null==s?void 0:s.keepUnusedDataFor)?d:t.config.keepUnusedDataFor)}if(t.util.resetApiState.match(u))for(const[e,t]of Object.entries(o))t&&clearTimeout(t),delete o[e];return l}}};import{isAnyOf as ye,isFulfilled as he,isRejectedWithValue as ge}from"@reduxjs/toolkit";var ve=({reducerPath:t,context:n,context:{endpointDefinitions:r},mutationThunk:i,api:a,assertTagType:o,refetchQuery:s})=>{const{removeQueryResult:u}=a.internalActions;return e=>t=>n=>{const s=t(n);return ye(he(i),ge(i))(n)&&c(te(n,"invalidatesTags",r,o),e),a.util.invalidateTags.match(n)&&c(L(n.payload,void 0,void 0,void 0,o),e),s};function c(r,i){var a;const o=i.getState()[t],c=new Set;for(const e of r){const t=o.provided[e.type];if(!t)continue;let n=null!=(a=void 0!==e.id?t[e.id]:(d=Object.values(t),[].concat(...d)))?a:[];for(const e of n)c.add(e)}var d;n.batch((()=>{const t=Array.from(c.values());for(const n of t){const t=o.queries[n],r=o.subscriptions[n];t&&r&&(0===Object.keys(r).length?i.dispatch(u({queryCacheKey:n})):t.status!==e.uninitialized&&i.dispatch(s(t,n)))}}))}},be=({reducerPath:t,queryThunk:n,api:r,refetchQuery:i})=>{return o=>{const s={};return e=>t=>{const i=e(t);return r.internalActions.updateSubscriptionOptions.match(t)&&c(t.payload,o),(n.pending.match(t)||n.rejected.match(t)&&t.meta.condition)&&c(t.meta.arg,o),(n.fulfilled.match(t)||n.rejected.match(t)&&!t.meta.condition)&&u(t.meta.arg,o),r.util.resetApiState.match(t)&&function(){for(const[e,t]of Object.entries(s))(null==t?void 0:t.timeout)&&clearTimeout(t.timeout),delete s[e]}(),i};function u({queryCacheKey:n},r){const o=r.getState()[t],u=o.queries[n];if(!u||u.status===e.uninitialized)return;const c=a(o.subscriptions[n]);if(!Number.isFinite(c))return;const d=s[n];(null==d?void 0:d.timeout)&&(clearTimeout(d.timeout),d.timeout=void 0);const l=Date.now()+c,p=s[n]={nextPollTimestamp:l,pollingInterval:c,timeout:setTimeout((()=>{p.timeout=void 0,r.dispatch(i(u,n))}),c)}}function c({queryCacheKey:n},r){const i=r.getState()[t],o=i.queries[n];if(!o||o.status===e.uninitialized)return;const c=a(i.subscriptions[n]),d=s[n];if(!Number.isFinite(c))return(null==d?void 0:d.timeout)&&clearTimeout(d.timeout),void delete s[n];const l=Date.now()+c;(!d||l<d.nextPollTimestamp)&&u({queryCacheKey:n},r)}};function a(e={}){let t=Number.POSITIVE_INFINITY;for(const n of Object.values(e))n.pollingInterval&&(t=Math.min(n.pollingInterval,t));return t}},qe=({reducerPath:t,context:n,refetchQuery:r})=>{return e=>t=>n=>{const r=t(n);return S.match(n)&&i(e,"refetchOnFocus"),R.match(n)&&i(e,"refetchOnReconnect"),r};function i(i,a){const o=i.getState()[t],s=o.queries,u=o.subscriptions;n.batch((()=>{for(const t of Object.keys(u)){const n=s[t],c=u[t];if(!c||!n||n.status===e.uninitialized)return;(Object.values(c).some((e=>!0===e[a]))||Object.values(c).every((e=>void 0===e[a]))&&o.config[a])&&i.dispatch(r(n,t))}}))}};import{isAsyncThunkAction as Oe,isFulfilled as we}from"@reduxjs/toolkit";var je=new Error("Promise never resolved before cacheEntryRemoved."),Se=({api:e,reducerPath:t,context:n,queryThunk:r,mutationThunk:i})=>{const a=Oe(r),o=Oe(i),s=we(r,i);return u=>{const l={};return n=>c=>{const d=u.getState(),f=n(c),m=function(t){return a(t)?t.meta.arg.queryCacheKey:o(t)?t.meta.requestId:e.internalActions.removeQueryResult.match(t)?t.payload.queryCacheKey:e.internalActions.unsubscribeMutationResult.match(t)?t.payload.requestId:""}(c);if(r.pending.match(c)){const e=d[t].queries[m],n=u.getState()[t].queries[m];!e&&n&&p(c.meta.arg.endpointName,c.meta.arg.originalArgs,m,u,c.meta.requestId)}else if(i.pending.match(c))u.getState()[t].mutations[m]&&p(c.meta.arg.endpointName,c.meta.arg.originalArgs,m,u,c.meta.requestId);else if(s(c)){const e=l[m];(null==e?void 0:e.valueResolved)&&(e.valueResolved({data:c.payload,meta:c.meta.baseQueryMeta}),delete e.valueResolved)}else if(e.internalActions.removeQueryResult.match(c)||e.internalActions.unsubscribeMutationResult.match(c)){const e=l[m];e&&(delete l[m],e.cacheEntryRemoved())}else if(e.util.resetApiState.match(c))for(const[e,t]of Object.entries(l))delete l[e],t.cacheEntryRemoved();return f};function p(t,r,i,a,o){const s=n.endpointDefinitions[t],u=null==s?void 0:s.onCacheEntryAdded;if(!u)return;let p={};const f=new Promise((e=>{p.cacheEntryRemoved=e})),m=Promise.race([new Promise((e=>{p.valueResolved=e})),f.then((()=>{throw je}))]);m.catch((()=>{})),l[i]=p;const y=e.endpoints[t].select(s.type===K.query?r:i),h=a.dispatch(((e,t,n)=>n)),g=d(c({},a),{getCacheEntry:()=>y(a.getState()),requestId:o,extra:h,updateCachedData:s.type===K.query?n=>a.dispatch(e.util.updateQueryData(t,r,n)):void 0,cacheDataLoaded:m,cacheEntryRemoved:f}),v=u(r,g);Promise.resolve(v).catch((e=>{if(e!==je)throw e}))}}};import{isPending as Te,isRejected as Re,isFulfilled as Ae}from"@reduxjs/toolkit";var ke=({api:e,context:t,queryThunk:n,mutationThunk:r})=>{const i=Te(n,r),a=Re(n,r),o=Ae(n,r);return n=>{const r={};return s=>u=>{var l,p,f;const m=s(u);if(i(u)){const{requestId:i,arg:{endpointName:a,originalArgs:o}}=u.meta,s=t.endpointDefinitions[a],l=null==s?void 0:s.onQueryStarted;if(l){const t={},u=new Promise(((e,n)=>{t.resolve=e,t.reject=n}));u.catch((()=>{})),r[i]=t;const p=e.endpoints[a].select(s.type===K.query?o:i),f=n.dispatch(((e,t,n)=>n)),m=d(c({},n),{getCacheEntry:()=>p(n.getState()),requestId:i,extra:f,updateCachedData:s.type===K.query?t=>n.dispatch(e.util.updateQueryData(a,o,t)):void 0,queryFulfilled:u});l(o,m)}}else if(o(u)){const{requestId:e,baseQueryMeta:t}=u.meta;null==(l=r[e])||l.resolve({data:u.payload,meta:t}),delete r[e]}else if(a(u)){const{requestId:e,rejectedWithValue:t,baseQueryMeta:n}=u.meta;null==(f=r[e])||f.reject({error:null!=(p=u.payload)?p:u.error,isUnhandledError:!t,meta:n}),delete r[e]}return m}}},xe=({api:e,context:{apiUid:t}})=>n=>{let r=!1;return i=>a=>{r||(r=!0,n.dispatch(e.internalActions.middlewareRegistered(t)));const o=i(a);return e.util.resetApiState.match(a)&&n.dispatch(e.internalActions.middlewareRegistered(t)),o}};function Qe(e,...t){Object.assign(e,...t)}import{enablePatches as Ce}from"immer";var Ie=Symbol(),Pe=()=>({name:Ie,init(t,{baseQuery:n,reducerPath:r,serializeQueryArgs:i,keepUnusedDataFor:a,refetchOnMountOrArgChange:o,refetchOnFocus:s,refetchOnReconnect:u},l){Ce();const p=e=>e;Object.assign(t,{reducerPath:r,endpoints:{},internalActions:{onOnline:R,onOffline:A,onFocus:S,onFocusLost:T},util:{}});const{queryThunk:f,mutationThunk:y,patchQueryData:h,updateQueryData:g,prefetch:v,buildMatchThunkActions:b}=function({reducerPath:t,baseQuery:n,context:{endpointDefinitions:r},serializeQueryArgs:i,api:a}){const o=async(e,{signal:t,rejectWithValue:i,fulfillWithValue:a,dispatch:o,getState:s})=>{const u=r[e.endpointName];try{let r,i=ee;const c={signal:t,dispatch:o,getState:s};if(u.query?(r=await n(u.query(e.originalArgs),c,u.extraOptions),u.transformResponse&&(i=u.transformResponse)):r=await u.queryFn(e.originalArgs,c,u.extraOptions,(e=>n(e,c,u.extraOptions))),r.error)throw new q(r.error,r.meta);return a(await i(r.data,r.meta),{fulfilledTimeStamp:Date.now(),baseQueryMeta:r.meta})}catch(e){if(e instanceof q)return i(e.value,{baseQueryMeta:e.meta});throw console.error(e),e}};function s(e){return t=>{var n,r;return(null==(r=null==(n=null==t?void 0:t.meta)?void 0:n.arg)?void 0:r.endpointName)===e}}return{queryThunk:Z(`${t}/executeQuery`,o,{getPendingMeta:()=>({startedTimeStamp:Date.now()}),condition(e,{getState:n}){var r,i;const a=n()[t],o=null==(r=null==a?void 0:a.queries)?void 0:r[e.queryCacheKey],s=null==o?void 0:o.fulfilledTimeStamp,u=null!=(i=e.forceRefetch)?i:e.subscribe&&a.config.refetchOnMountOrArgChange;return"pending"!==(null==o?void 0:o.status)&&(!s||!!u&&(!0===u||(Number(new Date)-Number(s))/1e3>=u))},dispatchConditionRejection:!0}),mutationThunk:Z(`${t}/executeMutation`,o,{getPendingMeta:()=>({startedTimeStamp:Date.now()})}),prefetch:(e,t,n)=>(r,i)=>{const o=(e=>"force"in e)(n)&&n.force,s=(e=>"ifOlderThan"in e)(n)&&n.ifOlderThan,u=(n=!0)=>a.endpoints[e].initiate(t,{forceRefetch:n}),c=a.endpoints[e].select(t)(i());if(o)r(u());else if(s){const e=null==c?void 0:c.fulfilledTimeStamp;if(!e)return void r(u());(Number(new Date)-Number(new Date(e)))/1e3>=s&&r(u())}else r(u(!1))},updateQueryData:(t,n,r)=>(i,o)=>{const s=a.endpoints[t].select(n)(o());let u={patches:[],inversePatches:[],undo:()=>i(a.util.patchQueryData(t,n,u.inversePatches))};if(s.status===e.uninitialized)return u;if("data"in s)if(Y(s.data)){const[,e,t]=X(s.data,r);u.patches.push(...e),u.inversePatches.push(...t)}else{const e=r(s.data);u.patches.push({op:"replace",path:[],value:e}),u.inversePatches.push({op:"replace",path:[],value:s.data})}return i(a.util.patchQueryData(t,n,u.patches)),u},patchQueryData:(e,t,n)=>o=>{o(a.internalActions.queryResultPatched({queryCacheKey:i({queryArgs:t,endpointDefinition:r[e],endpointName:e}),patches:n}))},buildMatchThunkActions:function(e,t){return{matchPending:H(J(e),s(t)),matchFulfilled:H(V(e),s(t)),matchRejected:H(B(e),s(t))}}}}({baseQuery:n,reducerPath:r,context:l,api:t,serializeQueryArgs:i}),{reducer:O,actions:w}=function({reducerPath:t,queryThunk:n,mutationThunk:r,context:{endpointDefinitions:i,apiUid:a},assertTagType:o,config:s}){const u=re(`${t}/resetApiState`),l=ie({name:`${t}/queries`,initialState:le,reducers:{removeQueryResult(e,{payload:{queryCacheKey:t}}){delete e[t]},queryResultPatched(e,{payload:{queryCacheKey:t,patches:n}}){ce(e,t,(e=>{e.data=ue(e.data,n.concat())}))}},extraReducers(t){t.addCase(n.pending,((t,{meta:n,meta:{arg:r}})=>{var i;r.subscribe&&(null!=t[i=r.queryCacheKey]||(t[i]={status:e.uninitialized,endpointName:r.endpointName})),ce(t,r.queryCacheKey,(t=>{t.status=e.pending,t.requestId=n.requestId,t.originalArgs=r.originalArgs,t.startedTimeStamp=n.startedTimeStamp}))})).addCase(n.fulfilled,((t,{meta:n,payload:r})=>{ce(t,n.arg.queryCacheKey,(t=>{t.requestId===n.requestId&&(t.status=e.fulfilled,t.data=m(t.data,r),delete t.error,t.fulfilledTimeStamp=n.fulfilledTimeStamp)}))})).addCase(n.rejected,((t,{meta:{condition:n,arg:r,requestId:i},error:a,payload:o})=>{ce(t,r.queryCacheKey,(t=>{if(n);else{if(t.requestId!==i)return;t.status=e.rejected,t.error=null!=o?o:a}}))}))}}),p=ie({name:`${t}/mutations`,initialState:le,reducers:{unsubscribeMutationResult(e,t){t.payload.requestId in e&&delete e[t.payload.requestId]}},extraReducers(t){t.addCase(r.pending,((t,{meta:{arg:n,requestId:r,startedTimeStamp:i}})=>{n.track&&(t[r]={status:e.pending,endpointName:n.endpointName,startedTimeStamp:i})})).addCase(r.fulfilled,((t,{payload:n,meta:r,meta:{requestId:i}})=>{r.arg.track&&de(t,{requestId:i},(t=>{t.status=e.fulfilled,t.data=n,t.fulfilledTimeStamp=r.fulfilledTimeStamp}))})).addCase(r.rejected,((t,{payload:n,error:r,meta:{requestId:i,arg:a}})=>{a.track&&de(t,{requestId:i},(t=>{t.status=e.rejected,t.error=null!=n?n:r}))}))}}),f=ie({name:`${t}/invalidation`,initialState:le,reducers:{},extraReducers(e){e.addCase(l.actions.removeQueryResult,((e,{payload:{queryCacheKey:t}})=>{for(const n of Object.values(e))for(const e of Object.values(n)){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}})).addMatcher(ae(oe(n),se(n)),((e,t)=>{var n,r,a,s;const u=te(t,"providesTags",i,o),{queryCacheKey:c}=t.meta.arg;for(const{type:t,id:i}of u){const o=null!=(s=(r=null!=(n=e[t])?n:e[t]={})[a=i||"__internal_without_id"])?s:r[a]=[];o.includes(c)||o.push(c)}}))}}),y=ie({name:`${t}/subscriptions`,initialState:le,reducers:{updateSubscriptionOptions(e,{payload:{queryCacheKey:t,requestId:n,options:r}}){var i;(null==(i=null==e?void 0:e[t])?void 0:i[n])&&(e[t][n]=r)},unsubscribeQueryResult(e,{payload:{queryCacheKey:t,requestId:n}}){e[t]&&delete e[t][n]}},extraReducers:e=>{e.addCase(l.actions.removeQueryResult,((e,{payload:{queryCacheKey:t}})=>{delete e[t]})).addCase(n.pending,((e,{meta:{arg:t,requestId:n}})=>{var r,i,a,o;if(t.subscribe){const s=null!=(i=e[r=t.queryCacheKey])?i:e[r]={};s[n]=null!=(o=null!=(a=t.subscriptionOptions)?a:s[n])?o:{}}})).addCase(n.rejected,((e,{meta:{condition:t,arg:n,requestId:r}})=>{var i,a;const o=e[n.queryCacheKey];t&&n.subscribe&&o&&(o[r]=null!=(a=null!=(i=n.subscriptionOptions)?i:o[r])?a:{})}))}}),h=ie({name:`${t}/config`,initialState:c({online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine,focused:"undefined"==typeof document||"hidden"!==document.visibilityState,middlewareRegistered:!1},s),reducers:{middlewareRegistered(e,{payload:t}){e.middlewareRegistered="conflict"!==e.middlewareRegistered&&a===t||"conflict"}},extraReducers:e=>{e.addCase(R,(e=>{e.online=!0})).addCase(A,(e=>{e.online=!1})).addCase(S,(e=>{e.focused=!0})).addCase(T,(e=>{e.focused=!1}))}}),g=ne({queries:l.reducer,mutations:p.reducer,provided:f.reducer,subscriptions:y.reducer,config:h.reducer});return{reducer:(e,t)=>g(u.match(t)?void 0:e,t),actions:d(c(c(c(c({},h.actions),l.actions),y.actions),p.actions),{resetApiState:u})}}({context:l,queryThunk:f,mutationThunk:y,reducerPath:r,assertTagType:p,config:{refetchOnFocus:s,refetchOnReconnect:u,refetchOnMountOrArgChange:o,keepUnusedDataFor:a,reducerPath:r}});Qe(t.util,{patchQueryData:h,updateQueryData:g,prefetch:v,resetApiState:w.resetApiState}),Qe(t.internalActions,w),Object.defineProperty(t.util,"updateQueryResult",{get:()=>t.util.updateQueryData}),Object.defineProperty(t.util,"patchQueryResult",{get:()=>t.util.patchQueryData});const{middleware:j,actions:k}=function(e){const{reducerPath:t,queryThunk:n}=e,r={invalidateTags:fe(`${t}/invalidateTags`)},i=[xe,me,ve,be,qe,Se,ke].map((t=>t(d(c({},e),{refetchQuery:a}))));return{middleware:e=>n=>{const r=pe(...i.map((t=>t(e))))(n);return i=>e.getState()[t]?r(i):n(i)},actions:r};function a(e,t,r={}){return n(c({endpointName:e.endpointName,originalArgs:e.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:t},r))}}({reducerPath:r,context:l,queryThunk:f,mutationThunk:y,api:t,assertTagType:p});Qe(t.util,k),Qe(t,{reducer:O,middleware:j});const{buildQuerySelector:x,buildMutationSelector:Q}=function({serializeQueryArgs:t,reducerPath:n}){return{buildQuerySelector:function(e,n){return a=>{const o=C(i,(r=>{var i,o;return null!=(o=a===I||null==(i=null==r?void 0:r.queries)?void 0:i[t({queryArgs:a,endpointDefinition:n,endpointName:e})])?o:E}));return C(o,r)}},buildMutationSelector:function(){return e=>{const t=C(i,(t=>{var n,r;return null!=(r=e===I||null==(n=null==t?void 0:t.mutations)?void 0:n[e])?r:N}));return C(t,r)}}};function r(t){return c(c({},t),{status:n=t.status,isUninitialized:n===e.uninitialized,isLoading:n===e.pending,isSuccess:n===e.fulfilled,isError:n===e.rejected});var n}function i(e){return e[n]}}({serializeQueryArgs:i,reducerPath:r}),{buildInitiateQuery:P,buildInitiateMutation:D}=function({serializeQueryArgs:e,queryThunk:t,mutationThunk:n,api:r}){const{unsubscribeQueryResult:i,unsubscribeMutationResult:a,updateSubscriptionOptions:o}=r.internalActions;return{buildInitiateQuery:function(n,a){const s=(u,{subscribe:c=!0,forceRefetch:d,subscriptionOptions:l}={})=>(p,f)=>{const m=e({queryArgs:u,endpointDefinition:a,endpointName:n}),y=t({subscribe:c,forceRefetch:d,subscriptionOptions:l,endpointName:n,originalArgs:u,queryCacheKey:m}),h=p(y),{requestId:g,abort:v}=h,b=Object.assign(h.then((()=>r.endpoints[n].select(u)(f()))),{arg:u,requestId:g,subscriptionOptions:l,abort:v,refetch(){p(s(u,{subscribe:!1,forceRefetch:!0}))},unsubscribe(){c&&p(i({queryCacheKey:m,requestId:g}))},updateSubscriptionOptions(e){b.subscriptionOptions=e,p(o({endpointName:n,requestId:g,queryCacheKey:m,options:e}))}});return b};return s},buildInitiateMutation:function(e,t){return(t,{track:r=!0}={})=>(i,o)=>{const s=n({endpointName:e,originalArgs:t,track:r}),u=i(s),{requestId:c,abort:d}=u,l=u.unwrap().then((e=>({data:e}))).catch((e=>({error:e})));return Object.assign(l,{arg:u.arg,requestId:c,abort:d,unwrap:u.unwrap,unsubscribe(){r&&i(a({requestId:c}))}})}}}}({queryThunk:f,mutationThunk:y,api:t,serializeQueryArgs:i});return{name:Ie,injectEndpoint(e,n){var r;const i=t;null!=(r=i.endpoints)[e]||(r[e]={}),n.type===K.query?Qe(i.endpoints[e],{select:x(e,n),initiate:P(e,n)},b(f,e)):n.type===K.mutation&&Qe(i.endpoints[e],{select:Q(),initiate:D(e,n)},b(y,e))}}}}),De=U(Pe());export{e as QueryStatus,U as buildCreateApi,m as copyWithStructuralSharing,Pe as coreModule,De as createApi,W as fakeBaseQuery,b as fetchBaseQuery,w as retry,x as setupListeners,P as skipSelector,I as skipToken};